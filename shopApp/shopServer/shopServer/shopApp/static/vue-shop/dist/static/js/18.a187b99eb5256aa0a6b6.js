webpackJsonp([18],{"2EYL":function(t,e,n){e=t.exports=n("UTlt")(!1),e.push([t.i,"\n#myFocusPage .vux-slider[data-v-58958c3c] {\n  overflow: unset;\n}\n#myFocusPage #mySwiper .vux-swiper[data-v-58958c3c] {\n  overflow: unset;\n}\n.wrap—order[data-v-58958c3c] {\n  padding: 0.375rem;\n  background: #ffffff;\n  margin-bottom: 10px;\n}\n.item—title[data-v-58958c3c] {\n  height: 2.8125rem;\n  line-height: 2.8125rem;\n  border-bottom: 1px solid #ebebeb;\n  font-size: .4em;\n}\n.font-right[data-v-58958c3c] {\n  text-align: right;\n  font-size: 12px;\n}\n.tab-swiper[data-v-58958c3c] {\n  background-color: #fff;\n  height: 100px;\n}\n.bottom-order[data-v-58958c3c] {\n  margin-top: 0.375rem;\n}\n.flex-demo[data-v-58958c3c] {\n  text-align: center;\n  border-radius: 20px;\n  background-clip: padding-box;\n  height: 1.875rem;\n  border: 1px solid #666;\n  line-height: 1.875rem;\n}\n.first_order[data-v-58958c3c] {\n  display: none;\n}\n.orserListWrap[data-v-58958c3c] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  border-bottom: 1px solid #ebebeb;\n  padding-top: 10px;\n  font-size: 14px;\n}\n.orderListImg[data-v-58958c3c] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  padding-right: 5px;\n}\n.orderListImg img[data-v-58958c3c] {\n  width: 100px;\n  height: 100px;\n}\n.orderListDetail[data-v-58958c3c] {\n  -webkit-box-flex: 3;\n  -webkit-flex: 3;\n          flex: 3;\n}\n.detailInfo[data-v-58958c3c] {\n  margin-bottom: 15px;\n  display: -webkit-box;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n}\n.shopsColor[data-v-58958c3c] {\n  color: #f74c31;\n}\n.goods_name[data-v-58958c3c] {\n  color: lightseagreen;\n  overflow: hidden;\n  -webkit-line-clamp: 1;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  font-size: .6em;\n  /*white-space: nowrap;*/\n  /*text-overflow: ellipsis;*/\n}\n.goods_order_number[data-v-58958c3c] {\n  color: blueviolet;\n  overflow: hidden;\n  -webkit-line-clamp: 1;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  text-align: right;\n  font-size: .6em;\n  /*white-space: nowrap;*/\n  /*text-overflow: ellipsis;*/\n}\n.goods_params[data-v-58958c3c] {\n  padding-top: 1em;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  font-size: .2em;\n  color: lightslategray;\n  /*white-space: nowrap;*/\n  /*text-overflow: ellipsis;*/\n}\n.noList[data-v-58958c3c] {\n  padding-top: 100px;\n  text-align: center;\n}\n",""])},Enji:function(t,e,n){"use strict";function o(t){n("Izcv")}var a=n("Bv8n"),i=(a.a,{props:["orderInfoList","isHaveJiao","isHaveAnniu"],components:{shopCell3:a.a},data:function(){return{}},created:function(){var t=this;this.$nextTick(function(){this.$(".cell_tou>div:nth-child(2)>span").css({"line-height":t.$(".cell_tou").height()+"px"})})},methods:{isHaveAnniuFn:function(){return"false"!==this.isHaveAnniu},fahuotimeFn:function(t){return null===t.fahuotime||""===t.fahuotime||void 0===t.fahuotime?"":"发货时间: "+t.fahuotime},isShowJiao:function(){return"false"!==this.isHaveJiao},getTotalMoney:function(t){return parseInt(t.totalMoney)},chakanwuliu:function(t){this.$emit("chakanwuliu",t.item)},querenshouhuo:function(t){this.$emit("querenshouhuo",{order:t.order,goods:t.goods})},qupingjia:function(t){this.$emit("qupingjia",{order:t.order,goods:t.goods})},quxiaodingdan:function(t){this.$emit("quxiaodingdan",t.item)},shanchudingdan:function(t){this.$emit("shanchudingdan",t.item)},go_to_pay:function(t){this.$emit("qufukuan",t.order)},cuimaijiafahuo:function(){},goto_dingdan_detail:function(t){var e=t.goods,n=this.orderJsonCircle(t.order);this.$router.push({name:"orderDetailComp",params:{order:n,goods:e}})},getStatus:function(t){var e="";return 0===t.status&&(e="等待买家付款"),1===t.status&&(e="买家已经付款"),2===t.status&&(e="订单已取消"),3===t.status&&(e="交易完成"),e},orderJsonCircle:function(t){for(var e=0;e<t.goodsInfo.length;e++)delete t.goodsInfo[e].orderInfo;return t}}}),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order_list_cell_page"},t._l(t.orderInfoList,function(e,o){return n("div",{key:o,staticClass:"order_list_cell_wrap"},[n("div",{staticClass:"cell_tou"},[n("div",[n("img",{attrs:{src:"static/home/tianmaobao.png",alt:""}}),t._v(" "),n("span",[t._v(t._s(e.goodsInfo[0].goods.shopname))])]),t._v(" "),n("div",[n("span",[t._v(t._s(t.getStatus(e)))])])]),t._v(" "),t._l(e.goodsInfo,function(o,a){return n("div",{key:a,staticClass:"cell_content1"},[n("shop-cell3",{attrs:{goods:o.goods,params:o.params,buyNumber:o.buyNumber}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHaveAnniuFn(),expression:"isHaveAnniuFn()"}],staticClass:"cell_bottom"},[n("span",{directives:[{name:"show",rawName:"v-show",value:0==e.status&&0==o.status,expression:"item.status == 0 && goodsItem.status == 0"},{name:"tap",rawName:"v-tap",value:{methods:t.go_to_pay,order:e},expression:"{methods:go_to_pay , order:item}"}],staticClass:"pingjia_btn"},[t._v("去付款")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==e.status&&3==o.status,expression:"item.status == 1 && goodsItem.status == 3"},{name:"tap",rawName:"v-tap",value:{methods:t.qupingjia,order:e,goods:o},expression:"{methods:qupingjia , order:item , goods:goodsItem}"}],staticClass:"pingjia_btn"},[t._v("去评价")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==e.status&&(1==o.status||2==e.status),expression:"item.status == 1 && (goodsItem.status == 1 || item.status == 2)"},{name:"tap",rawName:"v-tap",value:{methods:t.chakanwuliu,order:e,goods:o.goods},expression:"{methods:chakanwuliu , order:item , goods:goodsItem.goods}"}],staticClass:"pingjia_btn"},[t._v("查看物流")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==e.status&&2==o.status,expression:"item.status == 1 && goodsItem.status == 2"},{name:"tap",rawName:"v-tap",value:{methods:t.querenshouhuo,order:e,goods:o},expression:"{methods:querenshouhuo , order:item , goods:goodsItem}"}],staticClass:"pingjia_btn"},[t._v("确认收货")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==e.status&&4==o.status,expression:"item.status == 1 && goodsItem.status == 4"}]},[t._v("评价完成")]),t._v(" "),n("span",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.shanchudingdan,item:e.orderId},expression:"{methods:shanchudingdan , item:item.orderId}"},{name:"show",rawName:"v-show",value:2==e.status,expression:"item.status == 2"}],staticClass:"pingjia_btn"},[t._v("删除订单")])]),t._v(" "),n("div",{staticClass:"zongji"},[n("p",[n("span",{staticClass:"zongjia_left"},[t._v(t._s(t.fahuotimeFn(o)))]),n("span",{staticClass:"zongjia_right"},[t._v("共"+t._s(o.buyNumber)+"件商品 合计:￥"+t._s(t.getTotalMoney(e)))])])])],1)}),t._v(" "),t._m(0,!0)],2)}))},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cell_btns"},[n("div",{staticClass:"zongji"})])}],d={render:s,staticRenderFns:r},l=d,c=n("vSla"),u=o,p=c(i,l,!1,u,"data-v-379a51c8",null);e.a=p.exports},Izcv:function(t,e,n){var o=n("jGCQ");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("FIqI")("7074452a",o,!0,{})},iUYV:function(t,e,n){"use strict";function o(t){n("vbyE")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("SPhl"),i=n("sNOJ"),s=n("8qMz"),r=n("zZCY"),d=n("1a94"),l=n("mAm1"),c=n("NyFS"),u=n("nK57"),p=n("QcMK"),h=n("Enji"),f=n("+Jte"),v=(p.a,d.a,a.a,i.a,s.a,r.a,l.a,c.a,u.a,h.a,{components:{ShopCell:p.a,XHeader:d.a,Tab:a.a,TabItem:i.a,Swiper:s.a,SwiperItem:r.a,Flexbox:l.a,FlexboxItem:c.a,Toast:u.a,orderListCell:h.a},data:function(){return{list:[],list2:["全部","待付款","待发货","待收货","待评价","已完成","已取消"],demo2:"商品",index:this.$route.params.index?this.$route.params.index:0,all_order_list:[],orderListInfos:[],user_info:Object(f.f)().get_local_userinfo}},methods:{backFn:function(){this.$router.push({name:"userInfo"})},noListFn:function(){switch(this.index){case 0:return"还没有订单";case 1:return"没有未付款的订单";case 2:return"没有待发货的商品";case 3:return"没有待收货的商品";case 4:return"没有待评价的商品";case 5:return"没有已完成的商品";case 6:return"没有已取消的订单"}},pingjia_fn:function(t){this.$router.push({name:"pingjia",params:{info:t}})},switchTabItem:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.cur_index,o=this;o.$vux.loading.hide(),o.$data.index=n,o.selectOrderByStatus(o,n),!0===e&&o.$(".vux-swiper").scrollTop(0),setTimeout(function(){var t=o.$(window).height(),e=o.$(".vux-header").outerHeight(),n=o.$(".vux-tab").outerHeight();o.$refs.mySwiper.xheight=t-e-n+20+"px",o.$(".vux-swiper").css({overflow:"scroll"})},100)},orderListReq:function(){var t=this;t.$vux.loading.show({text:"loading..."}),console.log("wxid"),console.log(t.user_info),Object(f.f)().my_post("ordertableListJson",{wxid:t.user_info.wxid},function(e){t.$vux.loading.hide(),console.log(e),"ok"===e.data.status&&(t.all_order_list=[],t.all_order_list=e.data.data,t.orderListInfos=t.all_order_list,t.switchTabItem({cur_index:t.$data.index}))},function(e){t.$vux.toast.text("网络请求失败....","bottom"),t.$vux.loading.hide(),console.log(e)})},buyNum:function(t){for(var e=0,n=0,o=0;o<this.orderListInfos.length;o++)for(var a=this.orderListInfos[o].goodsInfo,i=0;i<a.length;i++)e+=parseInt(a[i].buyNumber),n+=parseInt(a[i].goods.price);return"num"===t?e:"price"===t?n:void 0},go_to_pay:function(t){this.$router.push({name:"pay_money",params:{orderInfo:t}})},qurenshouhuo:function(t){var e=this;e.$vux.loading.show({text:"loading..."}),Object(f.f)().my_post("querenshouhuoApi",{goodsid:t.goods.goods.goodsid,orderid:t.order.orderId},function(n){e.$vux.loading.hide(),e.$vux.toast.text(n.data.message,"center"),"ok"===n.data.status&&e.$router.push({name:"querenShouhuo",params:{item:t}})},function(){e.$vux.loading.hide(),e.$vux.toast.text("网络请求失败....","bottom")})},cancelOrder:function(t){var e=this;e.$vux.loading.show({text:"loading..."}),Object(f.f)().my_post("modify_order_status",{orderTableId:t,status:2},function(n){if(e.$vux.loading.hide(),e.$vux.toast.text(n.data.message,"center"),"ok"===n.data.status){for(var o=0;o<e.$data.all_order_list.length;o++)if(e.$data.all_order_list[o].orderId===t){e.$data.all_order_list[o].status="已取消";break}e.selectOrderByStatus(e,0)}},function(){e.$vux.loading.hide(),e.$vux.toast.text("网络请求失败....","bottom")})},getUrl:function(t){return Object(f.a)(t)},zuzhuangTempOrder:function(t){return{createTime:t.createTime,deliveryTime:t.deliveryTime,freightPrice:t.freightPrice,freightRiskPrice:t.freightRiskPrice,goodsInfo:[],invoiceContent:t.invoiceContent,invoiceType:t.invoiceType,noGoodsMethod:t.noGoodsMethod,orderId:t.orderId,payTime:t.payTime,sendCompany:t.sendCompany,status:t.status,totalFreightMoney:t.totalFreightMoney,totalMoney:t.totalMoney,totalNum:t.totalNum,transportMethod:t.transportMethod,userAddress:t.userAddress,userInfo:t.userInfo,wxOrderId:t.wxOrderId}},selectOrderByStatus:function(t,e){if(t.orderListInfos=[],0===e&&(t.orderListInfos=t.all_order_list),1===e)for(var n=0;n<t.all_order_list.length;n++)0===t.all_order_list[n].status&&t.orderListInfos.push(t.$data.all_order_list[n]);if(6===e)for(var o=0;o<t.all_order_list.length;o++)2===t.all_order_list[o].status&&t.orderListInfos.push(t.$data.all_order_list[o]);if(2===e||3===e||4===e)for(var a=0;a<t.all_order_list.length;a++)if(1===t.all_order_list[a].status){for(var i=t.zuzhuangTempOrder(t.all_order_list[a]),s=0;s<t.all_order_list[a].goodsInfo.length;s++)t.all_order_list[a].goodsInfo[s].status===e-1&&i.goodsInfo.push(t.all_order_list[a].goodsInfo[s]);i.goodsInfo.length>0&&t.orderListInfos.push(i)}if(5===e)for(var r=0;r<t.all_order_list.length;r++)if(1===t.all_order_list[r].status){for(var d=t.zuzhuangTempOrder(t.all_order_list[r]),l=0;l<t.all_order_list[r].goodsInfo.length;l++)3!==t.all_order_list[r].goodsInfo[l].status&&4!==t.all_order_list[r].goodsInfo[l].status||d.goodsInfo.push(t.all_order_list[r].goodsInfo[l]);d.goodsInfo.length>0&&t.orderListInfos.push(d)}},deleteOrder:function(t){var e=this;this.$vux.loading.show({text:"loading"}),Object(f.f)().my_post("ordertableDelete",{orderId:t},function(n){"ok"===n.data.status&&(e.delete_localArr_by_orderId(t),e.$vux.toast.text("订单删除成功...","center")),e.$vux.loading.hide()},function(){e.$vux.loading.hide(),e.$vux.toast.text("删除失败...")})},delete_localArr_by_orderId:function(t){for(var e=0;e<this.all_order_list.length;e++)if(t===this.all_order_list[e].orderId){this.all_order_list.splice(e,1);break}this.switchTabItem({cur_index:this.index},!1)},wuliuFn:function(t){this.$router.push({name:"logisticsQuery",params:{orderInfo:t}})}},created:function(){this.orderListReq()}}),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"myFocusPage"}},[n("x-header",{attrs:{title:"全部订单","right-options":{showMore:!1}},on:{"on-click-more":function(e){t.show=!0}}},[n("span",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.backFn},expression:"{methods: backFn}"}],attrs:{slot:"right",type:"navicon",size:"35"},slot:"right"},[t._v("我的")])]),t._v(" "),n("tab",{attrs:{"line-width":2,"active-color":"#fc378c","prevent-default":""},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.list2,function(e,o){return n("tab-item",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.switchTabItem,cur_index:o},expression:"{methods:switchTabItem , cur_index:index}"}],key:o,staticClass:"vux-center",attrs:{selected:t.demo2===e}},[t._v(t._s(e))])})),t._v(" "),n("swiper",{ref:"mySwiper",attrs:{id:"mySwiper","show-dots":!1},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},[n("orderListCell",{directives:[{name:"show",rawName:"v-show",value:t.orderListInfos.length>0,expression:"orderListInfos.length > 0"}],attrs:{orderInfoList:t.orderListInfos},on:{qufukuan:t.go_to_pay,chakanwuliu:t.wuliuFn,querenshouhuo:t.qurenshouhuo,qupingjia:t.pingjia_fn,quxiaodingdan:t.cancelOrder,shanchudingdan:t.deleteOrder}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.orderListInfos.length<=0,expression:"orderListInfos.length <= 0"}],staticClass:"noList"},[t._v("\n      "+t._s(t.noListFn())+"\n    ")])],1)],1)},m=[],x={render:g,staticRenderFns:m},_=x,b=n("vSla"),w=o,I=b(v,_,!1,w,"data-v-58958c3c",null);e.default=I.exports},jGCQ:function(t,e,n){e=t.exports=n("UTlt")(!1),e.push([t.i,"\n.order_list_cell_wrap[data-v-379a51c8] {\n  margin-top: 10px;\n  font-size: 12px;\n}\n.cell_tou[data-v-379a51c8] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 0 15px;\n}\n.cell_tou > div[data-v-379a51c8] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n}\n.order_list_cell_wrap img[data-v-379a51c8] {\n  width: 20px;\n  vertical-align: middle;\n}\n.cell_tou[data-v-379a51c8] {\n  background-color: white;\n  padding-top: 12px;\n  padding-bottom: 12px;\n}\n.order_list_cell_wrap span[data-v-379a51c8] {\n  vertical-align: middle;\n}\n.cell_tou > div[data-v-379a51c8]:nth-child(2) {\n  text-align: right;\n}\n.cell_tou > div:nth-child(2) span[data-v-379a51c8] {\n  color: #fb3808;\n}\n.cell_content[data-v-379a51c8] {\n  background-color: #f9f9f9;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 10px 15px;\n}\n.cell_content .left[data-v-379a51c8] {\n  -webkit-box-flex: 30%;\n  -webkit-flex: 30%;\n          flex: 30%;\n}\n.cell_content .left img[data-v-379a51c8] {\n  width: 100%;\n}\n.cell_content .center[data-v-379a51c8] {\n  -webkit-box-flex: 53%;\n  -webkit-flex: 53%;\n          flex: 53%;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n.cell_content .center p[data-v-379a51c8]:nth-child(1) {\n  color: black;\n  display: -webkit-box;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n}\n.cell_content .center p[data-v-379a51c8]:nth-child(2) {\n  color: #858585;\n  display: -webkit-box;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  margin-top: 3px;\n}\n.cell_content .center p[data-v-379a51c8]:nth-child(3) {\n  margin-top: 3px;\n}\n.cell_content .center p:nth-child(3) span[data-v-379a51c8] {\n  color: #d10018;\n  border: 1px solid #d10018;\n  border-radius: 3px;\n  padding: 0 2px;\n}\n.cell_content .right[data-v-379a51c8] {\n  -webkit-box-flex: 15%;\n  -webkit-flex: 15%;\n          flex: 15%;\n  text-align: right;\n}\n.cell_content .right p[data-v-379a51c8]:nth-child(2) {\n  color: #858585;\n  text-decoration: line-through;\n}\n.zongji[data-v-379a51c8] {\n  border-bottom: 0.5px solid #d7d7d7;\n  padding: 10px 15px;\n  text-align: right;\n}\n.zongjia_left[data-v-379a51c8] {\n  float: left;\n}\n.cell_btns .btns[data-v-379a51c8] {\n  border-bottom: 0.5px solid #d7d7d7;\n  padding: 13px 15px;\n  text-align: right;\n}\n.cell_btns .btns span[data-v-379a51c8] {\n  border: 1px solid #acacac;\n  border-radius: 99px;\n  padding: 6px 5px;\n  margin-left: 8px;\n}\n.order_list_cell_wrap .cell_btns .gaoliang[data-v-379a51c8] {\n  color: #fb3808;\n  border: 1px solid #fb3808;\n}\n.cell_bottom[data-v-379a51c8] {\n  text-align: right;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  background-color: #f9f9f9;\n}\n.pingjia_btn[data-v-379a51c8] {\n  color: #fb3808;\n  border: 1px solid #fb3808;\n  border-radius: 99px;\n  padding: 6px 5px;\n  margin-left: 10px;\n}\n.cell_content1[data-v-379a51c8] {\n  border-bottom: 1px solid white;\n}\n",""])},vbyE:function(t,e,n){var o=n("2EYL");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("FIqI")("009ba8a0",o,!0,{})}});